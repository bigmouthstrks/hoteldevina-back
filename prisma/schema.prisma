generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model RoomType {
  roomTypeId     Int           @id @default(autoincrement())
  name           String
  description    String?
  singleBedCount Int
  queenBedCount  Int
  features       String[]
  price          Int
  promotionPrice Int
  capacity       Int
  rooms          Room[]
  reservations   Reservation[]
}

model Room {
  roomId      Int      @id @default(autoincrement())
  number      Int
  isAvailable Boolean
  roomTypeId  Int
  roomType    RoomType @relation(fields: [roomTypeId], references: [roomTypeId])
}

model Reservation {
  reservationId       Int               @id @default(autoincrement())
  checkIn             DateTime
  checkOut            DateTime
  roomTypeId          Int
  roomType            RoomType          @relation(fields: [roomTypeId], references: [roomTypeId])
  userId              Int
  user                User              @relation(fields: [userId], references: [userId])
  reservationStatusId Int
  reservationStatus   ReservationStatus @relation(fields: [reservationId], references: [reservationStatusId])
}

model User {
  userId         Int           @id @default(autoincrement())
  email          String        @unique
  password       String
  firstName      String?
  lastName       String?
  role           String
  phoneNumber    String?
  documentType   String?
  documentNumber String?
  reservations   Reservation[]
}

model ReservationStatus {
  reservationStatusId Int           @id @default(autoincrement())
  name                String
  description         String?
  reservations        Reservation[]
}
